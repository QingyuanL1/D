import{d,r as i,o as c,b as v,e as t,t as l,j as b,k as h,w as m,q as x,v as _,x as p,_ as f}from"./index.f4f670c7.js";const w={class:"bg-white p-6 rounded-lg border border-gray-200 hover:border-blue-400 hover:shadow-sm transition-all relative"},y={class:"flex items-center justify-between mb-4"},B={class:"text-right"},k={class:"text-sm font-semibold text-blue-600"},C={class:"text-sm text-gray-600 mb-3 h-12"},D={class:"mb-4"},E={style:{width:"100%",height:"8px","background-color":"#e5e7eb","border-radius":"4px"}},$=d({__name:"ContributionRateCard",setup(g){const o=i(21.98),u=i(0),s=i(0),e=async()=>{try{const r=new Date().getFullYear(),a=await fetch(`http://47.111.95.19:3000/analytics/contribution-rate/${r}`);if(a.ok){const n=await a.json();n.success&&n.data?(u.value=n.data.currentRate||0,s.value=Math.min(100,Math.round(u.value/o.value*100))):(u.value=0,s.value=0)}else u.value=0,s.value=0}catch(r){console.error("\u83B7\u53D6\u8FB9\u9645\u8D21\u732E\u7387\u6570\u636E\u5931\u8D25:",r),u.value=0,s.value=0}};return c(()=>{e()}),(r,a)=>{const n=x("router-link");return _(),v("div",w,[t("div",y,[a[1]||(a[1]=t("div",{class:"p-2 bg-blue-100 rounded-md"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",B,[t("div",k,l(s.value)+"%",1),a[0]||(a[0]=t("div",{class:"text-xs text-gray-500"},"\u5B8C\u6210\u5EA6",-1))])]),a[3]||(a[3]=t("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"\u8FB9\u9645\u8D21\u732E\u7387\u5206\u6790",-1)),t("p",C,"\u8BA1\u5212\u503C: "+l(o.value)+"%",1),t("div",D,[t("div",E,[t("div",{style:b([{height:"8px","border-radius":"4px","background-color":"#2563eb",transition:"width 0.3s ease"},`width: ${s.value}%;`])},null,4)])]),h(n,{to:"/analytics/contribution-rate-chart",class:"block w-full text-center py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},{default:m(()=>a[2]||(a[2]=[p(" \u8D28\u91CF\u60C5\u51B5 ")])),_:1})])}}});var Y=f($,[["__scopeId","data-v-6ba644c8"]]);const R={class:"bg-white p-6 rounded-lg border border-gray-200 hover:border-blue-400 hover:shadow-sm transition-all relative"},F={class:"flex items-center justify-between mb-4"},M={class:"text-right"},j={class:"text-sm font-semibold text-blue-600"},V={class:"mb-4"},z={style:{width:"100%",height:"8px","background-color":"#e5e7eb","border-radius":"4px"}},N=d({__name:"ProfitMarginCard",setup(g){const o=i(0),u=async()=>{try{const s=new Date().getFullYear(),e=await fetch(`http://47.111.95.19:3000/analytics/profit-margin/${s}`);if(e.ok){const r=await e.json();r.success&&r.data?o.value=r.data.currentRate||0:o.value=0}else o.value=0}catch(s){console.error("\u83B7\u53D6\u6BDB\u5229\u7387\u6570\u636E\u5931\u8D25:",s),o.value=0}};return c(()=>{u()}),(s,e)=>{const r=x("router-link");return _(),v("div",R,[t("div",F,[e[1]||(e[1]=t("div",{class:"p-2 bg-blue-100 rounded-md"},[t("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),t("div",M,[t("div",j,l(o.value>0?o.value.toFixed(2)+"%":"\u6682\u65E0"),1),e[0]||(e[0]=t("div",{class:"text-xs text-gray-500"},"\u6BDB\u5229\u7387",-1))])]),e[3]||(e[3]=t("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"\u6BDB\u5229\u7387\u5206\u6790",-1)),e[4]||(e[4]=t("p",{class:"text-sm text-gray-600 mb-3 h-12"},"\u5206\u6790\u4E3B\u8425\u4E1A\u52A1\u6BDB\u5229\u7387\u7ED3\u6784\u4E0E\u8D8B\u52BF",-1)),t("div",V,[t("div",z,[t("div",{style:b([{height:"8px","border-radius":"4px","background-color":"#2563eb",transition:"width 0.3s ease"},`width: ${o.value>0?Math.min(o.value,100):0}%;`])},null,4)])]),h(r,{to:"/analytics/profit-margin-chart",class:"block w-full text-center py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},{default:m(()=>e[2]||(e[2]=[p(" \u8D28\u91CF\u60C5\u51B5 ")])),_:1})])}}});export{Y as C,N as _};
