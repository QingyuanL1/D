import{i as E,L as B}from"./index.0a005eaa.js";import{C as Gt,_ as Ut}from"./ProfitMarginCard.2c9ed384.js";import{d as Jt,r as s,o as Kt,a as Qt,b as Xt,e,t as c,j as C,k as d,w as v,C as F,q as Zt,v as te,x as h}from"./index.47be5aaa.js";const ee={class:"p-6 bg-gray-50 min-h-screen"},oe={class:"max-w-7xl mx-auto"},ae={class:"mb-8"},se={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ue={class:"bg-white p-6 rounded-lg border border-gray-200 hover:border-blue-400 hover:shadow-sm transition-all relative"},le={class:"flex items-center justify-between mb-4"},ne={class:"text-right"},re={class:"text-sm font-semibold text-blue-600"},ie={class:"mb-4"},de={style:{width:"100%",height:"8px","background-color":"#e5e7eb","border-radius":"4px"}},ce={class:"bg-white p-6 rounded-lg border border-gray-200 hover:border-blue-400 hover:shadow-sm transition-all relative"},ve={class:"flex items-center justify-between mb-4"},he={class:"text-right"},fe={class:"text-sm font-semibold text-blue-600"},me={class:"mb-4"},be={style:{width:"100%",height:"8px","background-color":"#e5e7eb","border-radius":"4px"}},ye={class:"bg-white p-6 rounded-lg border border-gray-200 hover:border-blue-400 hover:shadow-sm transition-all relative"},xe={class:"flex items-center justify-between mb-4"},ge={class:"text-right"},pe={class:"text-sm font-semibold text-blue-600"},Ee={class:"mb-4"},Be={style:{width:"100%",height:"8px","background-color":"#e5e7eb","border-radius":"4px"}},De={class:"bg-white p-6 rounded-lg border border-gray-200 hover:border-blue-400 hover:shadow-sm transition-all relative"},we={class:"flex items-center justify-between mb-4"},Ce={class:"text-right"},Fe={class:"text-sm font-semibold text-blue-600"},Se={class:"mb-4"},Ae={style:{width:"100%",height:"8px","background-color":"#e5e7eb","border-radius":"4px"}},_e={class:"bg-white p-6 rounded-lg border border-gray-200 hover:border-blue-400 hover:shadow-sm transition-all relative"},Me={class:"flex items-center justify-between mb-4"},ke={class:"text-right"},Re={class:"text-sm font-semibold text-blue-600"},ze={class:"mb-4"},$e={style:{width:"100%",height:"8px","background-color":"#e5e7eb","border-radius":"4px"}},Le={class:"bg-white p-6 rounded-lg border border-gray-200 hover:border-blue-400 hover:shadow-sm transition-all relative"},Pe={class:"flex items-center justify-between mb-4"},Te={class:"text-right"},je={class:"text-sm font-semibold text-blue-600"},Ne={class:"mb-4"},Oe={style:{width:"100%",height:"8px","background-color":"#e5e7eb","border-radius":"4px"}},Ie={class:"mb-8"},We={class:"bg-white rounded-lg shadow-sm p-6 mb-6"},Ve={class:"flex justify-between items-center mb-6"},qe={class:"text-lg font-semibold text-gray-900"},He={class:"flex items-center space-x-4"},Ye={class:"bg-white rounded-lg shadow-sm p-6 mb-6"},Ge={class:"flex justify-between items-center mb-6"},Ue={class:"text-lg font-semibold text-gray-900"},Je={class:"flex items-center space-x-4"},Ke={class:"bg-white rounded-lg shadow-sm p-6 mb-6"},Qe={class:"flex justify-between items-center mb-6"},Xe={class:"text-lg font-semibold text-gray-900"},Ze={class:"flex items-center space-x-4"},to={class:"bg-white rounded-lg shadow-sm p-6 mb-6"},eo={class:"flex justify-between items-center mb-6"},oo={class:"text-lg font-semibold text-gray-900"},ao={class:"flex items-center space-x-4"},so={class:"bg-white rounded-lg shadow-sm p-6 mb-6"},uo={class:"flex justify-between items-center mb-6"},lo={class:"text-lg font-semibold text-gray-900"},no={class:"flex items-center space-x-4"},ro={class:"bg-white rounded-lg shadow-sm p-6 mb-6"},io={class:"flex justify-between items-center mb-6"},co={class:"text-lg font-semibold text-gray-900"},vo={class:"flex items-center space-x-4"},ho={class:"bg-white rounded-lg shadow-sm p-6 mb-6"},fo={class:"flex justify-between items-center mb-6"},mo={class:"text-lg font-semibold text-gray-900"},bo={class:"flex items-center space-x-4"},yo={class:"bg-white rounded-lg shadow-sm p-6 mb-6"},xo={class:"flex justify-between items-center mb-6"},go={class:"text-lg font-semibold text-gray-900"},po={class:"flex items-center space-x-4"},Co=Jt({__name:"index",setup(Eo){const J=s(null),K=s(null),Q=s(null),X=s(null),Z=s(null),tt=s(null),et=s(null),ot=s(null),S=s(null),A=s(null),_=s(null),M=s(null),k=s(null),R=s(null),z=s(null),$=s(null),r=s(new Date().getFullYear().toString()),I=s([]),y=s({}),vt=s({}),ht={main:{name:"\u4E3B\u8425\u4E1A\u52A1",color:"#3B82F6"},nonMain:{name:"\u975E\u4E3B\u8425\u4E1A\u52A1",color:"#10B981"}},D=s([]),f=s({}),ft=s({}),L=s([]),P=s({}),mt=s({}),T=s([]),W=s([]),bt=s(0),Ft=s(21.98),j=s([]),V=s([]),yt=s(0),St=s(21.99),N=s([]),q=s([]),xt=s(0),gt=s(8),O=s([]),H=s([]),pt=s(0),Et=s(74),x=s([]),g=s([]),at=s(0);s({revenue:12568e4,netProfit:895e4,assetLiabilityRatio:65.8,roe:12.5});const Y=s({businessIncome:85,netProfit:92,contributionRate:78,profitMargin:88,netProfitMargin:76,assetLiabilityRatio:90,roe:82,inventoryMetrics:75}),G=s({roe:12.5}),Bt=s(6.85),Dt=s(65.8),wt=s(85e3),i=o=>o>=1e4?(o/1e4).toLocaleString("zh-CN",{maximumFractionDigits:1})+"\u4E07":o.toLocaleString("zh-CN",{maximumFractionDigits:2}),At=async()=>{var o,t,u,a,l,n,m,p;try{const U=await fetch(`http://47.111.95.19:3000/analytics/business-income/${r.value}`);if(U.ok){const b=await U.json();if(b.success&&b.data){I.value=b.data.months||[],y.value=b.data.monthlyData||{};const w={main:59400,nonMain:600};vt.value={main:{yearlyPlan:w.main,currentTotal:((t=(o=b.data.summary)==null?void 0:o.main)==null?void 0:t.currentTotal)||0,completion_rate:(a=(u=b.data.summary)==null?void 0:u.main)!=null&&a.currentTotal?Math.round(b.data.summary.main.currentTotal/w.main*100):0},nonMain:{yearlyPlan:w.nonMain,currentTotal:((n=(l=b.data.summary)==null?void 0:l.nonMain)==null?void 0:n.currentTotal)||0,completion_rate:(p=(m=b.data.summary)==null?void 0:m.nonMain)!=null&&p.currentTotal?Math.round(b.data.summary.nonMain.currentTotal/w.nonMain*100):0}},y.value.main&&(y.value.main.yearlyPlan=w.main),y.value.nonMain&&(y.value.nonMain.yearlyPlan=w.nonMain)}else st()}else st()}catch(U){console.error("\u83B7\u53D6\u8425\u4E1A\u6536\u5165\u6570\u636E\u5931\u8D25:",U),st()}},st=()=>{I.value=[],y.value={},vt.value={}},_t=async()=>{try{console.log("Fetching net profit data for year:",r.value);const o=await fetch(`http://47.111.95.19:3000/analytics/net-profit/${r.value}`);if(o.ok){const t=await o.json();console.log("Net profit data response:",t),t.success&&t.data?(D.value=t.data.months||[],f.value=t.data.monthlyData||{},ft.value=t.data.summary||{},console.log("Net profit chart data:",{months:D.value,monthlyData:f.value,hasCurrentTotal:!!(f.value&&f.value.currentTotal)})):(console.log("No net profit data available"),ut())}else console.log("Net profit API request failed"),ut()}catch(o){console.error("\u83B7\u53D6\u51C0\u5229\u6DA6\u6570\u636E\u5931\u8D25:",o),ut()}},ut=()=>{D.value=[],f.value={},ft.value={}},Mt=async()=>{var o;try{const t=await fetch(`http://47.111.95.19:3000/analytics/roe/${r.value}`);if(t.ok){const u=await t.json();if(u.success&&u.data){L.value=u.data.months||[],P.value=u.data.monthlyData||{roe:[]};const a=((o=u.data.monthlyData)==null?void 0:o.roe)&&u.data.monthlyData.roe.length>0?u.data.monthlyData.roe[u.data.monthlyData.roe.length-1]/1e3:0;mt.value={currentROE:a,completion_rate:a/20*100,targetROE:20}}else lt()}else lt()}catch(t){console.error("\u83B7\u53D6ROE\u6570\u636E\u5931\u8D25:",t),lt()}},lt=()=>{L.value=[],P.value={roe:[]},mt.value={currentROE:0,completion_rate:0,targetROE:20}},kt=async()=>{try{const o=await fetch(`http://47.111.95.19:3000/analytics/contribution-rate/${r.value}`);if(o.ok){const t=await o.json();t.success&&t.data&&t.data.hasData!==!1?(T.value=t.data.months||[],W.value=t.data.monthlyData||[],bt.value=t.data.currentRate||0):nt()}else nt()}catch(o){console.error("\u83B7\u53D6\u8FB9\u9645\u8D21\u732E\u7387\u6570\u636E\u5931\u8D25:",o),nt()}},nt=()=>{T.value=[],W.value=[],bt.value=0},Rt=async()=>{try{const o=await fetch(`http://47.111.95.19:3000/analytics/profit-margin/${r.value}`);if(o.ok){const t=await o.json();t.success&&t.data&&t.data.hasData!==!1?(j.value=t.data.months||[],V.value=t.data.monthlyData||[],yt.value=t.data.currentRate||0):rt()}else rt()}catch(o){console.error("\u83B7\u53D6\u6BDB\u5229\u7387\u6570\u636E\u5931\u8D25:",o),rt()}},rt=()=>{j.value=[],V.value=[],yt.value=0},zt=async()=>{try{const o=await fetch(`http://47.111.95.19:3000/analytics/net-profit-margin/${r.value}`);if(o.ok){const t=await o.json();t.success&&t.data&&t.data.hasData!==!1?(N.value=t.data.months||[],q.value=t.data.monthlyData||[],xt.value=t.data.currentRate||0,gt.value=t.data.targetRate||8):it()}else it()}catch(o){console.error("\u83B7\u53D6\u51C0\u5229\u7387\u6570\u636E\u5931\u8D25:",o),it()}},it=()=>{N.value=[],q.value=[],xt.value=0},$t=async()=>{try{const o=await fetch(`http://47.111.95.19:3000/analytics/asset-liability-ratio/${r.value}`);if(o.ok){const t=await o.json();t.success&&t.data&&t.data.hasData!==!1?(O.value=t.data.months||[],H.value=t.data.monthlyData||[],pt.value=t.data.currentRate||0,Et.value=t.data.targetRate||74):dt()}else dt()}catch(o){console.error("\u83B7\u53D6\u8D44\u4EA7\u8D1F\u503A\u7387\u6570\u636E\u5931\u8D25:",o),dt()}},dt=()=>{O.value=[],H.value=[],pt.value=0},Lt=async()=>{try{console.log("Fetching inventory data for year:",r.value);const o=await fetch(`http://47.111.95.19:3000/analytics/inventory-metrics/${r.value}`);if(o.ok){const t=await o.json();console.log("Inventory data response:",t),t.success&&t.data?(x.value=t.data.months||[],g.value=t.data.monthlyData||[],at.value=t.data.currentTotal||0,console.log("Inventory chart data:",{months:x.value,monthlyData:g.value,currentTotal:at.value,hasData:x.value.length>0&&g.value.length>0})):(console.log("No inventory data available"),ct())}else console.log("Inventory API request failed"),ct()}catch(o){console.error("\u83B7\u53D6\u5B58\u91CF\u6307\u6807\u6570\u636E\u5931\u8D25:",o),ct()}},ct=()=>{x.value=[],g.value=[],at.value=0},Pt=async()=>{try{await Promise.all([At(),_t(),Mt(),kt(),Rt(),zt(),$t(),Lt()]),Yt()}catch(o){console.error("\u83B7\u53D6\u5206\u6790\u6570\u636E\u5931\u8D25:",o)}},Tt=()=>{J.value&&(S.value=E(J.value)),K.value&&(A.value=E(K.value)),Q.value&&(_.value=E(Q.value)),X.value&&(M.value=E(X.value)),Z.value&&(k.value=E(Z.value)),tt.value&&(R.value=E(tt.value)),et.value&&(z.value=E(et.value)),ot.value&&($.value=E(ot.value))},jt=()=>{if(!S.value)return;const o=[],t=I.value.length>0&&Object.keys(y.value).length>0;t&&Object.keys(ht).forEach(a=>{const l=y.value[a],n=ht[a];l&&l.currentTotal&&o.push({name:`${n.name}`,type:"line",data:l.currentTotal,smooth:!0,lineStyle:{color:n.color,width:3},itemStyle:{color:n.color},areaStyle:{color:new B(0,0,0,1,[{offset:0,color:n.color+"40"},{offset:1,color:n.color+"10"}])}})});const u={title:{text:`${r.value}\u5E74\u8425\u4E1A\u6536\u5165\u6708\u5EA6\u8D8B\u52BF`,textStyle:{fontSize:16,fontWeight:"bold",color:"#374151"},left:"center",top:10},tooltip:{trigger:"axis",formatter:function(a){if(!t)return"\u6682\u65E0\u6570\u636E";let l=`${a[0].name}<br/>`;return a.forEach(n=>{l+=`${n.seriesName}: ${i(n.value)} \u4E07\u5143<br/>`}),l}},legend:{top:40,type:"scroll"},grid:{left:"8%",right:"5%",bottom:"15%",top:"20%",containLabel:!0},xAxis:{type:"category",data:t?I.value:[],axisLabel:{fontSize:12}},yAxis:{type:"value",name:"\u4E07\u5143",nameTextStyle:{fontSize:12},axisLabel:{formatter:function(a){return i(a)},fontSize:12}},series:t?o:[],graphic:t?[]:[{type:"text",left:"center",top:"middle",style:{text:"\u6682\u65E0\u6570\u636E",fontSize:16,fontWeight:"bold",fill:"#999"}}]};S.value.setOption(u,!0)},Nt=()=>{var a;if(!A.value){console.log("Net profit chart instance not available");return}const o=D.value.length>0&&f.value&&f.value.currentTotal;console.log("Net profit chart update:",{hasMonths:D.value.length>0,hasMonthlyData:!!f.value,hasCurrentTotal:!!(f.value&&f.value.currentTotal),hasData:o,months:D.value,currentTotal:(a=f.value)==null?void 0:a.currentTotal});const t=[];o&&t.push({name:"\u51C0\u5229\u6DA6",type:"line",data:f.value.currentTotal,smooth:!0,lineStyle:{color:"#3B82F6",width:3},itemStyle:{color:"#3B82F6"},areaStyle:{color:new B(0,0,0,1,[{offset:0,color:"#3B82F640"},{offset:1,color:"#3B82F610"}])}});const u={title:{text:`${r.value}\u5E74\u51C0\u5229\u6DA6\u6708\u5EA6\u8D8B\u52BF`,textStyle:{fontSize:16,fontWeight:"bold",color:"#374151"},left:"center",top:10},tooltip:{trigger:"axis",formatter:function(l){if(!o)return"\u6682\u65E0\u6570\u636E";let n=`${l[0].name}<br/>`;return l.forEach(m=>{n+=`${m.seriesName}: ${i(m.value)} \u4E07\u5143<br/>`}),n}},legend:{top:40,type:"scroll"},grid:{left:"8%",right:"5%",bottom:"15%",top:"20%",containLabel:!0},xAxis:{type:"category",data:o?D.value:[],axisLabel:{fontSize:12}},yAxis:{type:"value",name:"\u4E07\u5143",nameTextStyle:{fontSize:12},axisLabel:{formatter:function(l){return i(l)},fontSize:12}},series:o?t:[],graphic:o?[]:[{type:"text",left:"center",top:"middle",style:{text:"\u6682\u65E0\u6570\u636E",fontSize:16,fontWeight:"bold",fill:"#999"}}]};A.value.setOption(u,!0)},Ot=()=>{if(!_.value)return;const o=L.value.length>0&&P.value.roe&&P.value.roe.length>0,t=[];if(o){const a=P.value.roe.map(n=>n/1e3),l=L.value.map(()=>20);t.push({name:"\u5B9E\u9645ROE",type:"line",data:a,smooth:!0,lineStyle:{color:"#3B82F6",width:3},itemStyle:{color:"#3B82F6"},areaStyle:{color:new B(0,0,0,1,[{offset:0,color:"#3B82F640"},{offset:1,color:"#3B82F610"}])}}),t.push({name:"\u76EE\u6807\u7EBF",type:"line",data:l,lineStyle:{color:"#EF4444",width:2,type:"dashed"},itemStyle:{color:"#EF4444"},symbol:"none"})}const u={title:{text:`${r.value}\u5E74ROE\u6708\u5EA6\u8D8B\u52BF`,textStyle:{fontSize:16,fontWeight:"bold",color:"#374151"},left:"center",top:10},tooltip:{trigger:"axis",formatter:function(a){if(!o)return"\u6682\u65E0\u6570\u636E";let l=`${a[0].name}<br/>`;return a.forEach(n=>{l+=`${n.seriesName}: ${i(n.value)}%<br/>`}),l}},legend:{top:40,type:"scroll"},grid:{left:"8%",right:"5%",bottom:"15%",top:"20%",containLabel:!0},xAxis:{type:"category",data:o?L.value:[],axisLabel:{fontSize:12}},yAxis:{type:"value",name:"\u767E\u5206\u6BD4(%)",nameTextStyle:{fontSize:12},axisLabel:{formatter:function(a){return i(a)+"%"},fontSize:12}},series:o?t:[],graphic:o?[]:[{type:"text",left:"center",top:"middle",style:{text:"\u6682\u65E0\u6570\u636E",fontSize:16,fontWeight:"bold",fill:"#999"}}]};_.value.setOption(u,!0)},It=()=>{if(!M.value)return;const o=T.value.length>0&&W.value.length>0,t=[];if(o){const a=T.value.map(()=>Ft.value);t.push({name:"\u5B9E\u9645\u8D21\u732E\u7387",type:"line",data:W.value,smooth:!0,lineStyle:{color:"#3B82F6",width:3},itemStyle:{color:"#3B82F6"},areaStyle:{color:new B(0,0,0,1,[{offset:0,color:"#3B82F640"},{offset:1,color:"#3B82F610"}])}}),t.push({name:"\u8BA1\u5212\u76EE\u6807\u7EBF",type:"line",data:a,lineStyle:{color:"#EF4444",width:2,type:"dashed"},itemStyle:{color:"#EF4444"},symbol:"none"})}const u={title:{text:`${r.value}\u5E74\u8FB9\u9645\u8D21\u732E\u7387\u6708\u5EA6\u8D8B\u52BF`,textStyle:{fontSize:16,fontWeight:"bold",color:"#374151"},left:"center",top:10},tooltip:{trigger:"axis",formatter:function(a){if(!o)return"\u6682\u65E0\u6570\u636E";let l=`${a[0].name}<br/>`;return a.forEach(n=>{l+=`${n.seriesName}: ${i(n.value)}%<br/>`}),l}},legend:{top:40,type:"scroll"},grid:{left:"8%",right:"5%",bottom:"15%",top:"20%",containLabel:!0},xAxis:{type:"category",data:o?T.value:[],axisLabel:{fontSize:12}},yAxis:{type:"value",name:"\u767E\u5206\u6BD4(%)",nameTextStyle:{fontSize:12},axisLabel:{formatter:function(a){return i(a)+"%"},fontSize:12}},series:o?t:[],graphic:o?[]:[{type:"text",left:"center",top:"middle",style:{text:"\u6682\u65E0\u6570\u636E",fontSize:16,fontWeight:"bold",fill:"#999"}}]};M.value.setOption(u,!0)},Wt=()=>{if(!k.value)return;const o=j.value.length>0&&V.value.length>0,t=[];if(o){const a=j.value.map(()=>St.value);t.push({name:"\u5B9E\u9645\u6BDB\u5229\u7387",type:"line",data:V.value,smooth:!0,lineStyle:{color:"#3B82F6",width:3},itemStyle:{color:"#3B82F6"},areaStyle:{color:new B(0,0,0,1,[{offset:0,color:"#3B82F640"},{offset:1,color:"#3B82F610"}])}}),t.push({name:"\u76EE\u6807\u6BDB\u5229\u7387",type:"line",data:a,lineStyle:{color:"#EF4444",width:2,type:"dashed"},itemStyle:{color:"#EF4444"},symbol:"none"})}const u={title:{text:`${r.value}\u5E74\u6BDB\u5229\u7387\u6708\u5EA6\u8D8B\u52BF`,textStyle:{fontSize:16,fontWeight:"bold",color:"#374151"},left:"center",top:10},tooltip:{trigger:"axis",formatter:function(a){if(!o)return"\u6682\u65E0\u6570\u636E";let l=`${a[0].name}<br/>`;return a.forEach(n=>{l+=`${n.seriesName}: ${i(n.value)}%<br/>`}),l}},legend:{top:40,type:"scroll"},grid:{left:"8%",right:"5%",bottom:"15%",top:"20%",containLabel:!0},xAxis:{type:"category",data:o?j.value:[],axisLabel:{fontSize:12}},yAxis:{type:"value",name:"\u767E\u5206\u6BD4(%)",nameTextStyle:{fontSize:12},axisLabel:{formatter:function(a){return i(a)+"%"},fontSize:12}},series:o?t:[],graphic:o?[]:[{type:"text",left:"center",top:"middle",style:{text:"\u6682\u65E0\u6570\u636E",fontSize:16,fontWeight:"bold",fill:"#999"}}]};k.value.setOption(u,!0)},Vt=()=>{if(!R.value)return;const o=N.value.length>0&&q.value.length>0,t=[];if(o){const a=N.value.map(()=>gt.value);t.push({name:"\u5B9E\u9645\u51C0\u5229\u7387",type:"line",data:q.value,smooth:!0,lineStyle:{color:"#3B82F6",width:3},itemStyle:{color:"#3B82F6"},areaStyle:{color:new B(0,0,0,1,[{offset:0,color:"#3B82F640"},{offset:1,color:"#3B82F610"}])}}),t.push({name:"\u76EE\u6807\u7EBF",type:"line",data:a,lineStyle:{color:"#EF4444",width:2,type:"dashed"},itemStyle:{color:"#EF4444"},symbol:"none"})}const u={title:{text:`${r.value}\u5E74\u51C0\u5229\u7387\u6708\u5EA6\u8D8B\u52BF`,textStyle:{fontSize:16,fontWeight:"bold",color:"#374151"},left:"center",top:10},tooltip:{trigger:"axis",formatter:function(a){if(!o)return"\u6682\u65E0\u6570\u636E";let l=`${a[0].name}<br/>`;return a.forEach(n=>{l+=`${n.seriesName}: ${i(n.value)}%<br/>`}),l}},legend:{top:40,type:"scroll"},grid:{left:"8%",right:"5%",bottom:"15%",top:"20%",containLabel:!0},xAxis:{type:"category",data:o?N.value:[],axisLabel:{fontSize:12}},yAxis:{type:"value",name:"\u767E\u5206\u6BD4(%)",nameTextStyle:{fontSize:12},axisLabel:{formatter:function(a){return i(a)+"%"},fontSize:12}},series:o?t:[],graphic:o?[]:[{type:"text",left:"center",top:"middle",style:{text:"\u6682\u65E0\u6570\u636E",fontSize:16,fontWeight:"bold",fill:"#999"}}]};R.value.setOption(u,!0)},qt=()=>{if(!z.value)return;const o=O.value.length>0&&H.value.length>0,t=[];if(o){const a=O.value.map(()=>Et.value);t.push({name:"\u5B9E\u9645\u8D1F\u503A\u7387",type:"line",data:H.value,smooth:!0,lineStyle:{color:"#3B82F6",width:3},itemStyle:{color:"#3B82F6"},areaStyle:{color:new B(0,0,0,1,[{offset:0,color:"#3B82F640"},{offset:1,color:"#3B82F610"}])}}),t.push({name:"\u76EE\u6807\u7EBF",type:"line",data:a,lineStyle:{color:"#EF4444",width:2,type:"dashed"},itemStyle:{color:"#EF4444"},symbol:"none"})}const u={title:{text:`${r.value}\u5E74\u8D44\u4EA7\u8D1F\u503A\u7387\u6708\u5EA6\u8D8B\u52BF`,textStyle:{fontSize:16,fontWeight:"bold",color:"#374151"},left:"center",top:10},tooltip:{trigger:"axis",formatter:function(a){if(!o)return"\u6682\u65E0\u6570\u636E";let l=`${a[0].name}<br/>`;return a.forEach(n=>{l+=`${n.seriesName}: ${i(n.value)}%<br/>`}),l}},legend:{top:40,type:"scroll"},grid:{left:"8%",right:"5%",bottom:"15%",top:"20%",containLabel:!0},xAxis:{type:"category",data:o?O.value:[],axisLabel:{fontSize:12}},yAxis:{type:"value",name:"\u767E\u5206\u6BD4(%)",nameTextStyle:{fontSize:12},axisLabel:{formatter:function(a){return i(a)+"%"},fontSize:12}},series:o?t:[],graphic:o?[]:[{type:"text",left:"center",top:"middle",style:{text:"\u6682\u65E0\u6570\u636E",fontSize:16,fontWeight:"bold",fill:"#999"}}]};z.value.setOption(u,!0)},Ht=()=>{if(!$.value){console.log("Inventory chart instance not available");return}const o=x.value.length>0&&g.value.length>0;console.log("Inventory chart update:",{hasMonths:x.value.length>0,hasMonthlyData:g.value.length>0,hasData:o,months:x.value,monthlyData:g.value});const t=[];if(o){const a=g.value.map(l=>l.total||0);t.push({name:"\u5B58\u91CF\u603B\u8BA1",type:"line",data:a,smooth:!0,lineStyle:{color:"#3B82F6",width:3},itemStyle:{color:"#3B82F6"},areaStyle:{color:new B(0,0,0,1,[{offset:0,color:"#3B82F640"},{offset:1,color:"#3B82F610"}])}})}const u={title:{text:`${r.value}\u5E74\u5B58\u91CF\u6307\u6807\u6708\u5EA6\u8D8B\u52BF`,textStyle:{fontSize:16,fontWeight:"bold",color:"#374151"},left:"center",top:10},tooltip:{trigger:"axis",formatter:function(a){if(!o)return"\u6682\u65E0\u6570\u636E";let l=`${a[0].name}<br/>`;return a.forEach(n=>{l+=`${n.seriesName}: ${i(n.value)} \u4E07\u5143<br/>`}),l}},legend:{top:40,type:"scroll"},grid:{left:"8%",right:"5%",bottom:"15%",top:"20%",containLabel:!0},xAxis:{type:"category",data:o?x.value:[],axisLabel:{fontSize:12}},yAxis:{type:"value",name:"\u4E07\u5143",nameTextStyle:{fontSize:12},axisLabel:{formatter:function(a){return i(a)},fontSize:12}},series:o?t:[],graphic:o?[]:[{type:"text",left:"center",top:"middle",style:{text:"\u6682\u65E0\u6570\u636E",fontSize:16,fontWeight:"bold",fill:"#999"}}]};$.value.setOption(u,!0)},Yt=()=>{jt(),Nt(),Ot(),It(),Wt(),Vt(),qt(),Ht()},Ct=()=>{var o,t,u,a,l,n,m,p;(o=S.value)==null||o.resize(),(t=A.value)==null||t.resize(),(u=_.value)==null||u.resize(),(a=M.value)==null||a.resize(),(l=k.value)==null||l.resize(),(n=R.value)==null||n.resize(),(m=z.value)==null||m.resize(),(p=$.value)==null||p.resize()};return Kt(async()=>{Tt(),await Pt(),window.addEventListener("resize",Ct)}),Qt(()=>{var o,t,u,a,l,n,m,p;(o=S.value)==null||o.dispose(),(t=A.value)==null||t.dispose(),(u=_.value)==null||u.dispose(),(a=M.value)==null||a.dispose(),(l=k.value)==null||l.dispose(),(n=R.value)==null||n.dispose(),(m=z.value)==null||m.dispose(),(p=$.value)==null||p.dispose(),window.removeEventListener("resize",Ct)}),(o,t)=>{const u=Zt("router-link");return te(),Xt("div",ee,[e("div",oe,[t[48]||(t[48]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900"},"\u6570\u636E\u5206\u6790\u4E2D\u5FC3"),e("p",{class:"text-gray-600 mt-2"},"\u8D22\u52A1\u6570\u636E\u7EFC\u5408\u5206\u6790\u4E0E\u53EF\u89C6\u5316\u5C55\u793A")],-1)),e("div",ae,[t[30]||(t[30]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"\u5206\u6790\u6A21\u5757",-1)),e("div",se,[e("div",ue,[e("div",le,[t[1]||(t[1]=e("div",{class:"p-2 bg-blue-100 rounded-md"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})])],-1)),e("div",ne,[e("div",re,c(Y.value.businessIncome)+"%",1),t[0]||(t[0]=e("div",{class:"text-xs text-gray-500"},"\u5B8C\u6210\u5EA6",-1))])]),t[3]||(t[3]=e("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"\u8425\u4E1A\u6536\u5165\u5206\u6790",-1)),t[4]||(t[4]=e("p",{class:"text-sm text-gray-600 mb-3 h-12"},"\u5206\u6790\u8425\u4E1A\u6536\u5165\u7ED3\u6784\u4E0E\u53D8\u5316\u8D8B\u52BF",-1)),e("div",ie,[e("div",de,[e("div",{style:C([{height:"8px","border-radius":"4px","background-color":"#2563eb",transition:"width 0.3s ease"},`width: ${Y.value.businessIncome}%;`])},null,4)])]),d(u,{to:"/analytics/business-income-chart",class:"block w-full text-center py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},{default:v(()=>t[2]||(t[2]=[h(" \u8D28\u91CF\u60C5\u51B5 ")])),_:1})]),e("div",ce,[e("div",ve,[t[6]||(t[6]=e("div",{class:"p-2 bg-blue-100 rounded-md"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("div",he,[e("div",fe,c(Y.value.netProfit)+"%",1),t[5]||(t[5]=e("div",{class:"text-xs text-gray-500"},"\u5B8C\u6210\u5EA6",-1))])]),t[8]||(t[8]=e("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"\u51C0\u5229\u6DA6\u6570\u636E\u5206\u6790",-1)),t[9]||(t[9]=e("p",{class:"text-sm text-gray-600 mb-3 h-12"},"\u5206\u6790\u51C0\u5229\u6DA6\u7ED3\u6784\u4E0E\u5B8C\u6210\u60C5\u51B5",-1)),e("div",me,[e("div",be,[e("div",{style:C([{height:"8px","border-radius":"4px","background-color":"#2563eb",transition:"width 0.3s ease"},`width: ${Y.value.netProfit}%;`])},null,4)])]),d(u,{to:"/analytics/net-profit-chart",class:"block w-full text-center py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},{default:v(()=>t[7]||(t[7]=[h(" \u8D28\u91CF\u60C5\u51B5 ")])),_:1})]),e("div",ye,[e("div",xe,[t[11]||(t[11]=e("div",{class:"p-2 bg-blue-100 rounded-md"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),e("div",ge,[e("div",pe,c(G.value.roe>0?G.value.roe+"%":"\u6682\u65E0"),1),t[10]||(t[10]=e("div",{class:"text-xs text-gray-500"},"ROE",-1))])]),t[13]||(t[13]=e("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"\u51C0\u8D44\u4EA7\u6536\u76CA\u7387",-1)),t[14]||(t[14]=e("p",{class:"text-sm text-gray-600 mb-3 h-12"},"\u5206\u6790\u51C0\u5229\u6DA6\u4E0E\u80A1\u4E1C\u6743\u76CA\u7684\u6BD4\u7387",-1)),e("div",Ee,[e("div",Be,[e("div",{style:C([{height:"8px","border-radius":"4px","background-color":"#2563eb",transition:"width 0.3s ease"},`width: ${G.value.roe>0?Math.min(G.value.roe,100):0}%;`])},null,4)])]),d(u,{to:"/analytics/roe-chart",class:"block w-full text-center py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},{default:v(()=>t[12]||(t[12]=[h(" \u8D28\u91CF\u60C5\u51B5 ")])),_:1})]),d(Gt),d(Ut),e("div",De,[e("div",we,[t[16]||(t[16]=e("div",{class:"p-2 bg-blue-100 rounded-md"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 01 2-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),e("div",Ce,[e("div",Fe,c(Bt.value)+"%",1),t[15]||(t[15]=e("div",{class:"text-xs text-gray-500"},"\u51C0\u5229\u7387",-1))])]),t[18]||(t[18]=e("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"\u51C0\u5229\u7387\u5206\u6790",-1)),t[19]||(t[19]=e("p",{class:"text-sm text-gray-600 mb-3 h-12"},"\u5206\u6790\u51C0\u5229\u6DA6\u7387\u8D8B\u52BF\u4E0E\u53D8\u5316\u60C5\u51B5",-1)),e("div",Se,[e("div",Ae,[e("div",{style:C([{height:"8px","border-radius":"4px","background-color":"#2563eb",transition:"width 0.3s ease"},`width: ${Math.min(Math.max(Bt.value/6.85*100,3),100)}%;`])},null,4)])]),d(u,{to:"/analytics/net-profit-margin-chart",class:"block w-full text-center py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},{default:v(()=>t[17]||(t[17]=[h(" \u8D28\u91CF\u60C5\u51B5 ")])),_:1})]),e("div",_e,[e("div",Me,[t[21]||(t[21]=e("div",{class:"p-2 bg-blue-100 rounded-md"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 7h6m0 10v-3m-3 3h3m0 0v-3m0 3h3m-6 0h6m-6-3v3"})])],-1)),e("div",ke,[e("div",Re,c(Dt.value)+"%",1),t[20]||(t[20]=e("div",{class:"text-xs text-gray-500"},"\u8D44\u4EA7\u8D1F\u503A\u7387",-1))])]),t[23]||(t[23]=e("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"\u8D44\u4EA7\u8D1F\u503A\u7387\u5206\u6790",-1)),t[24]||(t[24]=e("p",{class:"text-sm text-gray-600 mb-3 h-12"},"\u5206\u6790\u8D44\u4EA7\u8D1F\u503A\u7387\u8D8B\u52BF\u4E0E\u98CE\u9669\u63A7\u5236",-1)),e("div",ze,[e("div",$e,[e("div",{style:C([{height:"8px","border-radius":"4px","background-color":"#2563eb",transition:"width 0.3s ease"},`width: ${Math.min(Math.max(Dt.value/74*100,3),100)}%;`])},null,4)])]),d(u,{to:"/analytics/asset-liability-ratio-chart",class:"block w-full text-center py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},{default:v(()=>t[22]||(t[22]=[h(" \u8D28\u91CF\u60C5\u51B5 ")])),_:1})]),e("div",Le,[e("div",Pe,[t[26]||(t[26]=e("div",{class:"p-2 bg-blue-100 rounded-md"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),e("div",Te,[e("div",je,c(wt.value)+"\u4E07",1),t[25]||(t[25]=e("div",{class:"text-xs text-gray-500"},"\u5B58\u91CF\u603B\u8BA1",-1))])]),t[28]||(t[28]=e("h4",{class:"text-lg font-medium text-gray-900 mb-2"},"\u5B58\u91CF\u6307\u6807\u5206\u6790",-1)),t[29]||(t[29]=e("p",{class:"text-sm text-gray-600 mb-3 h-12"},"\u5206\u6790\u9884\u4E2D\u6807+\u5728\u4EA7+\u5E93\u5B58\u7EFC\u5408\u60C5\u51B5",-1)),e("div",Ne,[e("div",Oe,[e("div",{style:C([{height:"8px","border-radius":"4px","background-color":"#2563eb",transition:"width 0.3s ease"},`width: ${Math.min(Math.max(wt.value/1e5*100,3),100)}%;`])},null,4)])]),d(u,{to:"/analytics/inventory-metrics-chart",class:"block w-full text-center py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"},{default:v(()=>t[27]||(t[27]=[h(" \u8D28\u91CF\u60C5\u51B5 ")])),_:1})])])]),e("div",Ie,[t[47]||(t[47]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"\u6708\u5EA6\u5206\u6790\u56FE\u8868",-1)),e("div",We,[e("div",Ve,[e("h3",qe,c(r.value)+"\u5E74\u8425\u4E1A\u6536\u5165\u6708\u5EA6\u8D8B\u52BF",1),e("div",He,[t[32]||(t[32]=F('<div class="flex items-center"><div class="w-4 h-4 bg-blue-500 rounded mr-2"></div><span class="text-sm text-gray-600">\u4E3B\u8425\u4E1A\u52A1</span></div><div class="flex items-center"><div class="w-4 h-4 bg-green-500 rounded mr-2"></div><span class="text-sm text-gray-600">\u975E\u4E3B\u8425\u4E1A\u52A1</span></div>',2)),d(u,{to:"/analytics/business-income-chart",class:"text-blue-600 hover:text-blue-800 text-sm"},{default:v(()=>t[31]||(t[31]=[h(" \u67E5\u770B\u8BE6\u60C5 \u2192 ")])),_:1})])]),e("div",{class:"h-[400px]",ref_key:"revenueChartRef",ref:J},null,512)]),e("div",Ye,[e("div",Ge,[e("h3",Ue,c(r.value)+"\u5E74\u51C0\u5229\u6DA6\u6708\u5EA6\u8D8B\u52BF",1),e("div",Je,[t[34]||(t[34]=e("div",{class:"flex items-center"},[e("div",{class:"w-4 h-4 bg-blue-500 rounded mr-2"}),e("span",{class:"text-sm text-gray-600"},"\u51C0\u5229\u6DA6\u53D8\u5316")],-1)),d(u,{to:"/analytics/net-profit-chart",class:"text-blue-600 hover:text-blue-800 text-sm"},{default:v(()=>t[33]||(t[33]=[h(" \u67E5\u770B\u8BE6\u60C5 \u2192 ")])),_:1})])]),e("div",{class:"h-[400px]",ref_key:"netProfitChartRef",ref:K},null,512)]),e("div",Ke,[e("div",Qe,[e("h3",Xe,c(r.value)+"\u5E74ROE\u6708\u5EA6\u8D8B\u52BF",1),e("div",Ze,[t[36]||(t[36]=F('<div class="flex items-center"><div class="w-4 h-4 bg-blue-500 rounded mr-2"></div><span class="text-sm text-gray-600">\u5B9E\u9645ROE</span></div><div class="flex items-center"><div class="w-4 h-4 bg-red-500 rounded mr-2"></div><span class="text-sm text-gray-600">\u76EE\u6807\u7EBF</span></div>',2)),d(u,{to:"/analytics/roe-chart",class:"text-blue-600 hover:text-blue-800 text-sm"},{default:v(()=>t[35]||(t[35]=[h(" \u67E5\u770B\u8BE6\u60C5 \u2192 ")])),_:1})])]),e("div",{class:"h-[400px]",ref_key:"roeChartRef",ref:Q},null,512)]),e("div",to,[e("div",eo,[e("h3",oo,c(r.value)+"\u5E74\u8FB9\u9645\u8D21\u732E\u7387\u6708\u5EA6\u8D8B\u52BF",1),e("div",ao,[t[38]||(t[38]=F('<div class="flex items-center"><div class="w-4 h-4 bg-blue-500 rounded mr-2"></div><span class="text-sm text-gray-600">\u5B9E\u9645\u8D21\u732E\u7387</span></div><div class="flex items-center"><div class="w-4 h-4 bg-red-500 rounded mr-2"></div><span class="text-sm text-gray-600">\u8BA1\u5212\u76EE\u6807\u7EBF</span></div>',2)),d(u,{to:"/analytics/contribution-rate-chart",class:"text-blue-600 hover:text-blue-800 text-sm"},{default:v(()=>t[37]||(t[37]=[h(" \u67E5\u770B\u8BE6\u60C5 \u2192 ")])),_:1})])]),e("div",{class:"h-[400px]",ref_key:"contributionRateChartRef",ref:X},null,512)]),e("div",so,[e("div",uo,[e("h3",lo,c(r.value)+"\u5E74\u6BDB\u5229\u7387\u6708\u5EA6\u8D8B\u52BF",1),e("div",no,[t[40]||(t[40]=F('<div class="flex items-center"><div class="w-4 h-4 bg-blue-500 rounded mr-2"></div><span class="text-sm text-gray-600">\u5B9E\u9645\u6BDB\u5229\u7387</span></div><div class="flex items-center"><div class="w-4 h-4 bg-red-500 rounded mr-2"></div><span class="text-sm text-gray-600">\u76EE\u6807\u6BDB\u5229\u7387</span></div>',2)),d(u,{to:"/analytics/profit-margin-chart",class:"text-blue-600 hover:text-blue-800 text-sm"},{default:v(()=>t[39]||(t[39]=[h(" \u67E5\u770B\u8BE6\u60C5 \u2192 ")])),_:1})])]),e("div",{class:"h-[400px]",ref_key:"profitMarginChartRef",ref:Z},null,512)]),e("div",ro,[e("div",io,[e("h3",co,c(r.value)+"\u5E74\u51C0\u5229\u7387\u6708\u5EA6\u8D8B\u52BF",1),e("div",vo,[t[42]||(t[42]=F('<div class="flex items-center"><div class="w-4 h-4 bg-blue-500 rounded mr-2"></div><span class="text-sm text-gray-600">\u5B9E\u9645\u51C0\u5229\u7387</span></div><div class="flex items-center"><div class="w-4 h-4 bg-red-500 rounded mr-2"></div><span class="text-sm text-gray-600">\u76EE\u6807\u7EBF</span></div>',2)),d(u,{to:"/analytics/net-profit-margin-chart",class:"text-blue-600 hover:text-blue-800 text-sm"},{default:v(()=>t[41]||(t[41]=[h(" \u67E5\u770B\u8BE6\u60C5 \u2192 ")])),_:1})])]),e("div",{class:"h-[400px]",ref_key:"netProfitMarginChartRef",ref:tt},null,512)]),e("div",ho,[e("div",fo,[e("h3",mo,c(r.value)+"\u5E74\u8D44\u4EA7\u8D1F\u503A\u7387\u6708\u5EA6\u8D8B\u52BF",1),e("div",bo,[t[44]||(t[44]=F('<div class="flex items-center"><div class="w-4 h-4 bg-blue-500 rounded mr-2"></div><span class="text-sm text-gray-600">\u5B9E\u9645\u8D1F\u503A\u7387</span></div><div class="flex items-center"><div class="w-4 h-4 bg-red-500 rounded mr-2"></div><span class="text-sm text-gray-600">\u76EE\u6807\u7EBF</span></div>',2)),d(u,{to:"/analytics/asset-liability-ratio-chart",class:"text-blue-600 hover:text-blue-800 text-sm"},{default:v(()=>t[43]||(t[43]=[h(" \u67E5\u770B\u8BE6\u60C5 \u2192 ")])),_:1})])]),e("div",{class:"h-[400px]",ref_key:"assetLiabilityChartRef",ref:et},null,512)]),e("div",yo,[e("div",xo,[e("h3",go,c(r.value)+"\u5E74\u5B58\u91CF\u6307\u6807\u6708\u5EA6\u8D8B\u52BF",1),e("div",po,[t[46]||(t[46]=e("div",{class:"flex items-center"},[e("div",{class:"w-4 h-4 bg-blue-500 rounded mr-2"}),e("span",{class:"text-sm text-gray-600"},"\u5B58\u91CF\u603B\u8BA1")],-1)),d(u,{to:"/analytics/inventory-metrics-chart",class:"text-blue-600 hover:text-blue-800 text-sm"},{default:v(()=>t[45]||(t[45]=[h(" \u67E5\u770B\u8BE6\u60C5 \u2192 ")])),_:1})])]),e("div",{class:"h-[400px]",ref_key:"inventoryChartRef",ref:ot},null,512)])])])])}}});export{Co as default};
